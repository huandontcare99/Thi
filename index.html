
<!-- ======================== index.html ======================== -->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz Pro ‚Äî Luy·ªán/Thi tr·∫Øc nghi·ªám</title>
  <meta name="theme-color" content="#111827" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <span class="logo">üéØ</span>
      <div class="titles">
        <h1>Quiz Pro</h1>
        <p class="subtitle">Luy·ªán/Thi tr·∫Øc nghi·ªám ‚Äî m∆∞·ª£t, ch√≠nh x√°c, offline</p>
      </div>
    </div>
    <nav class="top-actions">
      <button id="btnTabQuiz" class="tab-btn active">L√†m b√†i</button>
      <button id="btnTabHistory" class="tab-btn">L·ªãch s·ª≠</button>
      <button id="btnTabQA" class="tab-btn">Ng√¢n h√†ng</button>
      <button id="btnInstall" class="ghost">C√†i ·ª©ng d·ª•ng</button>
      <a id="btnHelp" class="ghost" href="#help">Tr·ª£ gi√∫p</a>
    </nav>
  </header>

  <main id="main">
    <!-- ========== TAB: QUIZ / SETUP ========== -->
    <section id="tab-quiz" class="tab active">
      <div id="setup" class="card">
        <div class="grid grid-2">
          <div>
            <label for="selSubject">M√¥n h·ªçc</label>
            <select id="selSubject"></select>
            <small id="subjectInfo" class="muted"></small>
          </div>
          <div>
            <label for="numQuestions">S·ªë c√¢u</label>
            <input id="numQuestions" type="number" min="1" step="1" placeholder="vd. 20" />
            <small class="muted">ƒê·ªÉ tr·ªëng = d√πng t·∫•t c·∫£ c√¢u h·ª£p l·ªá</small>
          </div>
          <div>
            <label for="selMode">Ch·∫ø ƒë·ªô</label>
            <select id="selMode">
              <option value="practice">Luy·ªán t·∫≠p (hi·ªán ƒë√∫ng/sai ngay)</option>
              <option value="exam">Thi (·∫©n ƒë√°p √°n t·ªõi khi n·ªôp)</option>
            </select>
          </div>
          <div class="flex-row">
            <label class="switch">
              <input id="chkShuffleOptions" type="checkbox" checked />
              <span class="slider"></span>
            </label>
            <span>ƒê·∫£o th·ª© t·ª± ƒë√°p √°n</span>
          </div>
          <div class="flex-row">
            <label class="switch">
              <input id="chkTimer" type="checkbox" />
              <span class="slider"></span>
            </label>
            <span>B·∫≠t h·∫πn gi·ªù</span>
          </div>
          <div id="timerBox" class="hidden">
            <label for="timerMinutes">Th·ªùi gian (ph√∫t)</label>
            <input id="timerMinutes" type="number" min="1" step="1" value="30" />
          </div>
        </div>
        <div class="setup-actions">
          <button id="btnStart" class="primary">B·∫Øt ƒë·∫ßu</button>
          <button id="btnSeedLink" class="ghost" title="Sao ch√©p link c√πng ƒë·ªÅ (seed)">Sao ch√©p link ƒë·ªÅ</button>
          <span id="copyToast" class="toast hidden">ƒê√£ sao ch√©p!</span>
        </div>
        <details class="help">
          <summary>Ph√≠m t·∫Øt & m·∫πo</summary>
          <ul>
            <li><b>1/2/3/4</b> ch·ªçn ƒë√°p √°n A/B/C/D</li>
            <li><b>‚Üê/‚Üí</b> chuy·ªÉn c√¢u tr∆∞·ªõc/sau</li>
            <li><b>Enter</b> n·ªôp b√†i (khi ƒë√£ tr·∫£ l·ªùi ƒë·ªß)</li>
            <li><b>R</b> l√†m l·∫°i ƒë·ªÅ v·ªõi c√πng seed</li>
          </ul>
        </details>
      </div>

      <div id="exam" class="hidden">
        <div class="exam-top">
          <div class="pill" id="pillSubject">‚Äî</div>
          <div class="pill" id="pillMode">‚Äî</div>
          <div class="pill" id="pillSeed">seed: ‚Äî</div>
          <div id="timer" class="timer hidden">00:00</div>
        </div>

        <div class="progress">
          <div id="progressBar" class="progress-bar" style="width:0%"></div>
          <div id="progressText" class="progress-text">0/0</div>
        </div>

        <div class="exam-body">
          <aside class="question-nav" id="questionNav"></aside>
          <article class="question-area">
            <div id="qNumber" class="q-number">C√¢u 1</div>
            <div id="qText" class="q-text"></div>
            <form id="options" class="options"></form>
            <div id="feedback" class="feedback"></div>
            <div class="q-actions">
              <button id="btnPrev" class="ghost">‚Üê Tr∆∞·ªõc</button>
              <button id="btnNext" class="ghost">Sau ‚Üí</button>
              <div class="spacer"></div>
              <button id="btnSubmit" class="primary">N·ªôp b√†i</button>
            </div>
          </article>
        </div>
      </div>

      <div id="result" class="hidden card">
        <div class="result-head">
          <h2>K·∫øt qu·∫£</h2>
          <div class="result-stats">
            <div><span class="muted">M√¥n:</span> <b id="resSubject">‚Äî</b></div>
            <div><span class="muted">Ch·∫ø ƒë·ªô:</span> <b id="resMode">‚Äî</b></div>
            <div><span class="muted">Seed:</span> <b id="resSeed">‚Äî</b></div>
            <div><span class="muted">ƒêi·ªÉm:</span> <b id="resScore">‚Äî</b></div>
            <div><span class="muted">Th·ªùi gian:</span> <b id="resTime">‚Äî</b></div>
          </div>
        </div>
        <div class="result-actions">
          <button id="btnReplay" class="secondary">L√†m l·∫°i ƒë·ªÅ n√†y</button>
          <button id="btnNew" class="primary">ƒê·ªÅ m·ªõi</button>
          <button id="btnReviewWrong" class="ghost">Xem c√¢u sai</button>
          <button id="btnExportCSV" class="ghost">Xu·∫•t CSV</button>
        </div>
        <div id="review" class="review hidden"></div>
      </div>
    </section>

    <!-- ========== TAB: HISTORY ========== -->
    <section id="tab-history" class="tab">
      <div class="card">
        <h2>L·ªãch s·ª≠ l√†m b√†i</h2>
        <div id="historyList" class="history-list"></div>
        <div class="history-actions">
          <button id="btnClearHistory" class="danger">Xo√° to√†n b·ªô l·ªãch s·ª≠</button>
        </div>
      </div>
    </section>

    <!-- ========== TAB: QA ========== -->
    <section id="tab-qa" class="tab">
      <div class="card">
        <h2>Ng√¢n h√†ng c√¢u h·ªèi (QA)</h2>
        <div id="qaSummary" class="qa-summary"></div>
        <details>
          <summary>Chi ti·∫øt l·ªói parse</summary>
          <div id="qaDetails" class="qa-details"></div>
        </details>
      </div>
    </section>
  </main>

  <!-- ====== Templates (for cloning) ====== -->
  <template id="tplNavBtn">
    <button class="nav-btn">1</button>
  </template>
  <template id="tplOption">
    <label class="option">
      <input type="radio" name="opt" />
      <span class="opt-text"></span>
    </label>
  </template>

  <footer class="app-footer">
    <span>¬© Quiz Pro ‚Äî ch·∫°y thu·∫ßn tr√¨nh duy·ªát, PWA offline</span>
    <a href="#about">v·ªÅ s·∫£n ph·∫©m</a>
  </footer>

  <!-- data.js (nguy√™n b·∫£n) ph·∫£i load tr∆∞·ªõc parser/app -->
  <script src="data.js"></script>
  <script src="parser.js"></script>
  <script src="store.js"></script>
  <script src="app.js"></script>
</body>
</html>

